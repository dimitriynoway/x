[{"/Users/dmitriybabenko/Desktop/finalMes/client/src/index.js":"1","/Users/dmitriybabenko/Desktop/finalMes/client/src/App.js":"2","/Users/dmitriybabenko/Desktop/finalMes/client/src/pages/Root.js":"3","/Users/dmitriybabenko/Desktop/finalMes/client/src/pages/Login.js":"4","/Users/dmitriybabenko/Desktop/finalMes/client/src/pages/Chat.js":"5","/Users/dmitriybabenko/Desktop/finalMes/client/src/pages/Google.js":"6","/Users/dmitriybabenko/Desktop/finalMes/client/src/routes/InitialRoute.js":"7","/Users/dmitriybabenko/Desktop/finalMes/client/src/routes/PrivateRout.js":"8","/Users/dmitriybabenko/Desktop/finalMes/client/src/routes/LoginRoute.js":"9","/Users/dmitriybabenko/Desktop/finalMes/client/src/HOC/SuperChat.js":"10","/Users/dmitriybabenko/Desktop/finalMes/client/src/colors.js":"11","/Users/dmitriybabenko/Desktop/finalMes/client/src/notifications/functions.js":"12","/Users/dmitriybabenko/Desktop/finalMes/client/src/components/Loader.js":"13","/Users/dmitriybabenko/Desktop/finalMes/client/src/components/Warning.js":"14","/Users/dmitriybabenko/Desktop/finalMes/client/src/components/ChatWindow.js":"15","/Users/dmitriybabenko/Desktop/finalMes/client/src/components/MainMessages.js":"16","/Users/dmitriybabenko/Desktop/finalMes/client/src/components/TopNavigation.js":"17","/Users/dmitriybabenko/Desktop/finalMes/client/src/components/OnlineUsers.js":"18","/Users/dmitriybabenko/Desktop/finalMes/client/src/components/Typing.js":"19","/Users/dmitriybabenko/Desktop/finalMes/client/src/components/EmptyRightBox.js":"20","/Users/dmitriybabenko/Desktop/finalMes/client/src/components/AdminWindow.js":"21","/Users/dmitriybabenko/Desktop/finalMes/client/src/components/Message.js":"22","/Users/dmitriybabenko/Desktop/finalMes/client/src/components/LeftNavOnlineUser.js":"23","/Users/dmitriybabenko/Desktop/finalMes/client/src/components/OnlineUser.js":"24","/Users/dmitriybabenko/Desktop/finalMes/client/src/components/AdminInfo.js":"25","/Users/dmitriybabenko/Desktop/finalMes/client/src/components/UserInfoForAdmin.js":"26","/Users/dmitriybabenko/Desktop/finalMes/client/src/components/NotificationMessage.js":"27"},{"size":173,"mtime":1632689061389,"results":"28","hashOfConfig":"29"},{"size":273,"mtime":1632422319074,"results":"30","hashOfConfig":"29"},{"size":1079,"mtime":1632422319075,"results":"31","hashOfConfig":"29"},{"size":4461,"mtime":1632422319075,"results":"32","hashOfConfig":"29"},{"size":5655,"mtime":1632686632205,"results":"33","hashOfConfig":"29"},{"size":567,"mtime":1632560020258,"results":"34","hashOfConfig":"29"},{"size":612,"mtime":1632571114243,"results":"35","hashOfConfig":"29"},{"size":843,"mtime":1632571137322,"results":"36","hashOfConfig":"29"},{"size":736,"mtime":1632571097482,"results":"37","hashOfConfig":"29"},{"size":373,"mtime":1632422319074,"results":"38","hashOfConfig":"29"},{"size":72,"mtime":1632422319074,"results":"39","hashOfConfig":"29"},{"size":517,"mtime":1632422319075,"results":"40","hashOfConfig":"29"},{"size":461,"mtime":1632422319074,"results":"41","hashOfConfig":"29"},{"size":850,"mtime":1632422319075,"results":"42","hashOfConfig":"29"},{"size":1455,"mtime":1632422319074,"results":"43","hashOfConfig":"29"},{"size":1174,"mtime":1632422319074,"results":"44","hashOfConfig":"29"},{"size":3060,"mtime":1632647417622,"results":"45","hashOfConfig":"29"},{"size":709,"mtime":1632422319075,"results":"46","hashOfConfig":"29"},{"size":1453,"mtime":1632422319075,"results":"47","hashOfConfig":"29"},{"size":954,"mtime":1632422319074,"results":"48","hashOfConfig":"29"},{"size":1592,"mtime":1632647842069,"results":"49","hashOfConfig":"29"},{"size":1588,"mtime":1632422319074,"results":"50","hashOfConfig":"29"},{"size":509,"mtime":1632422319074,"results":"51","hashOfConfig":"29"},{"size":1185,"mtime":1632422319074,"results":"52","hashOfConfig":"29"},{"size":1614,"mtime":1632422319074,"results":"53","hashOfConfig":"29"},{"size":1347,"mtime":1632649806745,"results":"54","hashOfConfig":"29"},{"size":1304,"mtime":1632422319074,"results":"55","hashOfConfig":"29"},{"filePath":"56","messages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1t1ralg",{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":5,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66"},{"filePath":"67","messages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73"},{"filePath":"74","messages":"75","errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76"},{"filePath":"77","messages":"78","errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79"},{"filePath":"80","messages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92"},{"filePath":"93","messages":"94","errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95"},{"filePath":"96","messages":"97","errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98"},{"filePath":"99","messages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"103","messages":"104","errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"105"},{"filePath":"106","messages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"108","messages":"109","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"110","messages":"111","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"112","messages":"113","errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114"},{"filePath":"115","messages":"116","errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"117"},{"filePath":"118","messages":"119","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/dmitriybabenko/Desktop/finalMes/client/src/index.js",[],"/Users/dmitriybabenko/Desktop/finalMes/client/src/App.js",[],"/Users/dmitriybabenko/Desktop/finalMes/client/src/pages/Root.js",[],"/Users/dmitriybabenko/Desktop/finalMes/client/src/pages/Login.js",[],"/Users/dmitriybabenko/Desktop/finalMes/client/src/pages/Chat.js",["120","121","122","123","124","125","126","127","128","129","130","131","132"],"import React, { useEffect, useState } from 'react';\nimport { useSnackbar } from 'notistack';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport { useHistory } from 'react-router-dom';\nimport colors from '../colors';\nimport { ErrorHandler } from '../notifications/functions';\nimport { WarningPage } from '../components/Warning';\nimport { ChatWindow } from '../components/ChatWindow';\n\nconst Chat = ({ socket }) => {\n\tconst history = useHistory();\n\tconst { enqueueSnackbar } = useSnackbar();\n\tconst windowWidthLess900 = useMediaQuery('(max-width:960px)');\n\tconst handleError = ErrorHandler(enqueueSnackbar);\n\n\tconst [messages, setMessages] = useState([]);\n\tconst [usersInDB, setUsersInDB] = useState([]);\n\tconst [onlineUsersArray, setOnlineUsersArray] = useState([]);\n\tconst [showAdmin, setShowAdmin] = useState(false);\n\tconst [warning, setWarning] = useState(false);\n\tconst [userRole, setUserRole] = useState('user');\n\tconst [warningMessage, setWarningMessage] = useState('You entered from two windows or connection was interrupted');\n\tconst [warningColor, setWarningColor] = useState('');\n\n\tconst sendMessage = (e, msg, setMessage) => {\n\t\tif (e.key === 'Enter' || e.type === 'click') {\n\t\t\tif (!msg) return;\n\t\t\tsocket.emit('message', ({ msg }));\n\t\t\tsetMessage('');\n\t\t}\n\t};\n\n\tconst getUserFromBan = (user) => {\n\t\tconsole.log('userFromBan', user);\n\t\tconsole.log('dbusers', usersInDB);\n\t\tconst updatedUsersInDB = usersInDB.map((item) => {\n\t\t\tif (item.id === user._id) {\n\t\t\t\treturn { ...item, banned: user.banned };\n\t\t\t}\n\t\t\treturn item;\n\t\t});\n\t\tsetUsersInDB([...updatedUsersInDB]);\n\t};\n\n\tconst getUserFromMute = (user) => {\n\t\tconsole.log('userFromMute', user);\n\t\tconsole.log('dbusers', usersInDB);\n\t\tconst updatedUsersInDB = usersInDB.map((item) => {\n\t\t\tif (item.id === user._id) {\n\t\t\t\treturn { ...item, mutted: user.mutted };\n\t\t\t}\n\t\t\treturn item;\n\t\t});\n\t\tsetUsersInDB([...updatedUsersInDB]);\n\t};\n\n\tconst userDisconnect = ({ disconnectedUser }) => {\n\t\tconsole.log('user disconnected');\n\t\tconst copy = onlineUsersArray.find((item) => item.id === disconnectedUser.id);\n\t\tif (copy) {\n\t\t\tconst newOnline = onlineUsersArray.filter((item) => item.id !== disconnectedUser.id);\n\t\t\tsetOnlineUsersArray([...newOnline]);\n\t\t}\n\t};\n\tconst youConnected = ({ clients, username, messages }) => {\n\t\tconsole.log('you connected');\n\t\tsetWarning(false);\n\t\tsetOnlineUsersArray(clients);\n\t\tsetMessages(messages);\n\t};\n\tconst newUserConnection = ({ client }) => {\n\t\tconsole.log('new user connected', client);\n\t\tconsole.log('users in db: ', usersInDB);\n\t\tconst justCreatedUser = usersInDB.find((user) => user.id === client.id);\n\t\tif (!justCreatedUser) {\n\t\t\tsetUsersInDB((prev) => [...prev, client]);\n\t\t}\n\t\tconst newOnline = onlineUsersArray.filter((item) => item.id !== client.id);\n\n\t\tsetOnlineUsersArray([...newOnline, client]);\n\t};\n\n\tuseEffect(() => {\n\t\tsocket.on('getUserFromBan', getUserFromBan);\n\t\treturn () => {\n\t\t\tsocket.removeAllListeners('getUserFromBan');\n\t\t};\n\t}, [usersInDB]);\n\n\tuseEffect(() => {\n\t\tsocket.on('getUserFromMute', getUserFromMute);\n\t\treturn () => {\n\t\t\tsocket.removeAllListeners('getUserFromMute');\n\t\t};\n\t}, [usersInDB]);\n\n\tuseEffect(() => {\n\t\tsocket.on('user disconnect', userDisconnect);\n\t\tsocket.on('you connected', youConnected);\n\t\tsocket.on('new user connection', newUserConnection);\n\t\treturn () => {\n\t\t\tsocket.removeAllListeners('user disconnect');\n\t\t\tsocket.removeAllListeners('you connected');\n\t\t\tsocket.removeAllListeners('new user connection');\n\t\t};\n\t}, [onlineUsersArray, usersInDB]);\n\n\tuseEffect(() => {\n\t\tsocket.once('admin', () => {\n\t\t\tsetUserRole('admin');\n\t\t});\n\t\tsocket.once('getUsersFromServer', (users) => {\n\t\t\tsetUsersInDB([...users]);\n\t\t});\n\t\treturn () => {\n\t\t\tsocket.removeAllListeners('admin');\n\t\t\tsocket.removeAllListeners('getUsersFromServer');\n\t\t};\n\t}, [usersInDB, userRole]);\n\n\tuseEffect(() => {\n\t\tsocket.on('message', ({ message, userColor, username }) => {\n\t\t\tsetMessages((prev) => [...prev, {\n\t\t\t\tusername,\n\t\t\t\tmessage,\n\t\t\t\tbgColor: colors[userColor] || 'red',\n\t\t\t\ttype: 'user',\n\t\t\t},\n\t\t\t]);\n\t\t});\n\n\t\tsocket.on('mutted', () => {\n\t\t\thandleError('You are mutted', windowWidthLess900);\n\t\t});\n\n\t\tsocket.on('delay', (time) => {\n\t\t\thandleError(`Delay. Left ${time} seconds`, windowWidthLess900);\n\t\t});\n\n\t\tsocket.on('dissconnect type', ({ type }) => {\n\t\t\tlocalStorage.removeItem('token');\n\t\t\tif (type === 'banned') {\n\t\t\t\tsetWarningMessage('Loooser... You have been banned!');\n\t\t\t\tsetWarningColor('orange');\n\t\t\t}\n\t\t});\n\t\tsocket.on('error', (err) => {\n\t\t\tsetWarningMessage(err.message);\n\t\t\tsetWarning(true);\n\t\t\tlocalStorage.removeItem('token');\n\t\t});\n\t\tsocket.on('connect_error', (err) => {\n\t\t\tsetWarningMessage(err.message);\n\t\t\tsetWarning(true);\n\t\t\tlocalStorage.removeItem('token');\n\t\t});\n\t\tsocket.on('disconnect', () => {\n\t\t\tsetWarning(true);\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.removeAllListeners('message');\n\t\t\tsocket.removeAllListeners('mutted');\n\t\t\tsocket.removeAllListeners('delay');\n\t\t\tsocket.removeAllListeners('dissconnect type');\n\t\t\tsocket.removeAllListeners('error');\n\t\t\tsocket.removeAllListeners('connect_error');\n\t\t\tsocket.removeAllListeners('disconnect');\n\t\t};\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t{warning\n\t\t\t\t? (\n\t\t\t\t\t<WarningPage\n\t\t\t\t\t\twarningMessage={warningMessage}\n\t\t\t\t\t\twarningColor={warningColor}\n\t\t\t\t\t\twindowWidthLess900={windowWidthLess900}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t\t: (\n\t\t\t\t\t<ChatWindow\n\t\t\t\t\t\tsocket={socket}\n\t\t\t\t\t\tuserRole={userRole}\n\t\t\t\t\t\tsetShowAdmin={setShowAdmin}\n\t\t\t\t\t\twindowWidthLess900={windowWidthLess900}\n\t\t\t\t\t\tonlineUsersArray={onlineUsersArray}\n\t\t\t\t\t\tshowAdmin={showAdmin}\n\t\t\t\t\t\tusersInDB={usersInDB}\n\t\t\t\t\t\tmessages={messages}\n\t\t\t\t\t\tsendMessage={sendMessage}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default Chat;\n","/Users/dmitriybabenko/Desktop/finalMes/client/src/pages/Google.js",[],"/Users/dmitriybabenko/Desktop/finalMes/client/src/routes/InitialRoute.js",[],"/Users/dmitriybabenko/Desktop/finalMes/client/src/routes/PrivateRout.js",["133","134"],"import React, { useEffect, useState } from 'react';\nimport { Route, Redirect, useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport Loader from '../components/Loader';\n\nconst PrivateRoute = ({ children, isAuthenticated, ...rest }) => {\n\tconst [loader, setLoader] = useState(true);\n\tconst [valid, setValid] = useState(false);\n\tconst history = useHistory();\n\tuseEffect(() => {\n\t\tif (!localStorage.getItem('token')) {\n\t\t\tsetValid(false);\n\t\t\thistory.push('/');\n\t\t\tsetLoader(false);\n\t\t} else {\n\t\t\tsetValid(true);\n\t\t\tsetLoader(false);\n\t\t}\n\t}, []);\n\n\tif (loader) {\n\t\treturn <Loader />;\n\t}\n\n\treturn (\n\t\t<Route\n\t\t\t{...rest}\n\t\t\trender={({ location }) => (valid ? (\n\t\t\t\tchildren\n\t\t\t) : (\n\t\t\t\t<Redirect\n\t\t\t\t\tto={{\n\t\t\t\t\t\tpathname: '/login',\n\t\t\t\t\t\tstate: { from: location },\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t))}\n\t\t/>\n\t);\n};\n\nexport default PrivateRoute;\n","/Users/dmitriybabenko/Desktop/finalMes/client/src/routes/LoginRoute.js",["135","136"],"import React, { useEffect, useState } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport Loader from '../components/Loader';\n\nexport const LoginRoute = ({ children, ...rest }) => {\n\tconst [loader, setLoader] = useState(true);\n\tconst [valid, setValid] = useState(false);\n\n\tuseEffect(() => {\n\t\tif (!localStorage.getItem('token')) {\n\t\t\tsetValid(false);\n\t\t\tsetLoader(false);\n\t\t} else {\n\t\t\tsetValid(true);\n\t\t\tsetLoader(false);\n\t\t}\n\t}, []);\n\n\tif (loader) {\n\t\treturn <Loader />;\n\t}\n\n\treturn (\n\t\t<Route\n\t\t\t{...rest}\n\t\t\trender={({ location }) => (valid ? (\n\t\t\t\t<Redirect\n\t\t\t\t\tto={{\n\t\t\t\t\t\tpathname: '/chat',\n\t\t\t\t\t\tstate: { from: location },\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\tchildren\n\t\t\t))}\n\t\t/>\n\t);\n};\n","/Users/dmitriybabenko/Desktop/finalMes/client/src/HOC/SuperChat.js",["137"],"import React from 'react';\nimport io from 'socket.io-client';\n\nexport default (Component) => {\n\tconst NewComponent = (props) => {\n\t\tconst socket = io('http://localhost:4000', {\n\t\t\ttransports: ['websocket', 'flashsocket'], // \"polling\"\n\t\t\tauth: { token: localStorage.getItem('token') },\n\t\t});\n\t\treturn <Component {...props} socket={socket} />;\n\t};\n\n\treturn NewComponent;\n};\n","/Users/dmitriybabenko/Desktop/finalMes/client/src/colors.js",[],"/Users/dmitriybabenko/Desktop/finalMes/client/src/notifications/functions.js",[],"/Users/dmitriybabenko/Desktop/finalMes/client/src/components/Loader.js",[],"/Users/dmitriybabenko/Desktop/finalMes/client/src/components/Warning.js",[],"/Users/dmitriybabenko/Desktop/finalMes/client/src/components/ChatWindow.js",[],"/Users/dmitriybabenko/Desktop/finalMes/client/src/components/MainMessages.js",["138","139"],"import React, { useEffect, useRef } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Grid, Box } from '@material-ui/core';\nimport { NotMessage } from './NotificationMessage';\nimport Message from './Message';\n\nconst useStyles = makeStyles((theme) => ({\n\tbox: {\n\t\tmarginTop: 3,\n\t\tborderRadius: 10,\n\t\t[theme.breakpoints.down('xs')]: {\n\t\t\theight: '80vh',\n\t\t},\n\t\t[theme.breakpoints.up('xs')]: {\n\t\t\theight: '80vh',\n\t\t},\n\t},\n}));\n\nexport const MainMessages = ({ messages }) => {\n\tconst ref = useRef(null);\n\tconst classes = useStyles();\n\n\tconst scrollToBottom = () => {\n\t\tref.current?.scrollIntoView({ behavior: 'smooth' });\n\t};\n\n\tuseEffect(() => {\n\t\tscrollToBottom();\n\t}, [messages]);\n\n\treturn (\n\t\t<Grid\n\t\t\tcontainer\n\t\t\tjustifyContent=\"center\"\n\t\t\talignItems=\"flex-start\"\n\t\t\tstyle={{}}\n\t\t>\n\t\t\t<Box\n\t\t\t\tclassName={classes.box}\n\t\t\t\tstyle={{ width: '90%', overflow: 'auto' }}\n\t\t\t>\n\t\t\t\t{messages && messages.map((message, index) => {\n\t\t\t\t\tif (message.type === 'notification') {\n\t\t\t\t\t\treturn <NotMessage key={index} message={message} />;\n\t\t\t\t\t}\n\t\t\t\t\treturn <Message message={message} key={index} />;\n\t\t\t\t})}\n\t\t\t\t<div ref={ref} />\n\t\t\t</Box>\n\n\t\t</Grid>\n\t);\n};\n","/Users/dmitriybabenko/Desktop/finalMes/client/src/components/TopNavigation.js",["140"],"import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Box from '@mui/material/Box';\nimport Drawer from '@mui/material/Drawer';\nimport List from '@mui/material/List';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { LeftNavOnlineUser } from './LeftNavOnlineUser';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: '100%',\n\t},\n\tmenuButton: {\n\t\tmarginRight: theme.spacing(2),\n\t},\n}));\n\nexport const TopNavigation = ({\n\tsocket,\n\trole,\n\tsetShowAdmin,\n\twindowWidthLess900,\n\tonlineUsersArray,\n}) => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst [showLeftNav, setShowLeftNav] = React.useState(false);\n\n\tconst logoutHandler = async () => {\n\t\tlocalStorage.removeItem('token');\n\t\thistory.push('/');\n\t\tsocket.disconnect(true);\n\t\tawait axios.get('http://localhost:4000/auth/logout', { withCredentials: 'include' });\n\t};\n\n\tconst toggleDrawer = (open) => (event) => {\n\t\tif (event.type === 'keydown'\n\t\t\t&& (event.key === 'Tab' || event.key === 'Shift')) {\n\t\t\treturn;\n\t\t}\n\t\tsetShowLeftNav(open);\n\t};\n\n\tconst list = () => (\n\t\t<Box\n\t\t\tstyle={{\n\t\t\t\tdisplay: 'flex',\n\t\t\t\talignItems: 'center',\n\t\t\t\tflexDirection: 'column',\n\t\t\t\tbackgroundColor: '#3f50b5',\n\t\t\t\theight: '100vh',\n\t\t\t}}\n\t\t\tsx={{ width: 270 }}\n\t\t\trole=\"presentation\"\n\t\t\tonClick={toggleDrawer(false)}\n\t\t\tonKeyDown={toggleDrawer(false)}\n\t\t>\n\t\t\t<Typography style={{\n\t\t\t\ttextAlign: 'center',\n\t\t\t\tfontSize: 34,\n\t\t\t\tmarginTop: 16,\n\t\t\t\tcolor: 'white',\n\t\t\t}}\n\t\t\t>\n\t\t\t\tOnline Users\n\n\t\t\t</Typography>\n\t\t\t<List style={{ width: 250, overflow: 'auto' }}>\n\t\t\t\t{onlineUsersArray\n\t\t\t\t\t&& onlineUsersArray.length > 0\n\t\t\t\t\t&& onlineUsersArray.map(((item, index) => <LeftNavOnlineUser key={index} item={item} />))}\n\t\t\t</List>\n\t\t</Box>\n\t);\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<AppBar position=\"static\">\n\t\t\t\t<Toolbar style={{ display: 'flex', justifyContent: 'space-between' }}>\n\t\t\t\t\t{windowWidthLess900\n\t\t\t\t\t\t&& (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Button onClick={toggleDrawer(true)}>\n\t\t\t\t\t\t\t\t\t<MenuIcon style={{ color: 'white' }} />\n\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Drawer\n\t\t\t\t\t\t\t\t\topen={showLeftNav}\n\t\t\t\t\t\t\t\t\tonClose={toggleDrawer(false)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{list()}\n\t\t\t\t\t\t\t\t</Drawer>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t{!windowWidthLess900\n\t\t\t\t\t\t&& (\n\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t\t\t\t\tMessanger\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t)}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{role === 'admin' ? (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetShowAdmin(true);\n\t\t\t\t\t\t\t\t\t// socket.emit('getUsers');\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tAdmin\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t<Button color=\"inherit\" onClick={logoutHandler}>\n\t\t\t\t\t\t\tLog Out\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t{/* <Switch inputProps={{ 'aria-label': 'Switch demo' }} /> */}\n\t\t\t\t\t</div>\n\t\t\t\t</Toolbar>\n\t\t\t</AppBar>\n\t\t</div>\n\t);\n};\n","/Users/dmitriybabenko/Desktop/finalMes/client/src/components/OnlineUsers.js",["141"],"import { Grid, Typography } from '@material-ui/core';\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { OnlineUser } from './OnlineUser';\n\nconst useStyles = makeStyles((theme) => ({\n\ttext: {\n\t\ttextAlign: 'center',\n\t\tfontSize: theme.spacing(3.5),\n\t\tcolor: 'white',\n\t\tmarginTop: theme.spacing(2),\n\t},\n}));\n\nexport const OnlineUsers = ({ onlineUsers }) => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<Grid item md={3}>\n\t\t\t<Typography className={classes.text}>Online Users</Typography>\n\t\t\t{onlineUsers\n\t\t\t\t&& onlineUsers.map((item, index) => (\n\t\t\t\t\t<OnlineUser\n\t\t\t\t\t\tusername={item.username}\n\t\t\t\t\t\tcolor={item.userColor}\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t</Grid>\n\t);\n};\n","/Users/dmitriybabenko/Desktop/finalMes/client/src/components/Typing.js",[],"/Users/dmitriybabenko/Desktop/finalMes/client/src/components/EmptyRightBox.js",[],"/Users/dmitriybabenko/Desktop/finalMes/client/src/components/AdminWindow.js",["142"],"import * as React from 'react';\nimport Box from '@mui/material/Box';\nimport Typography from '@mui/material/Typography';\nimport Modal from '@mui/material/Modal';\nimport { useMediaQuery } from '@material-ui/core';\nimport { UserInfoForAdmin } from './UserInfoForAdmin';\nimport { AdminInfo } from './AdminInfo';\n\nconst style = {\n\tposition: 'absolute',\n\ttop: '50%',\n\tleft: '50%',\n\ttransform: 'translate(-50%, -50%)',\n\tbgcolor: 'rgba(255,255,255,.6)',\n\tborder: '2px solid white',\n\tboxShadow: 24,\n\tp: 4,\n\theight: 400,\n\toverflow: 'auto',\n\tborderRadius: 1,\n};\n\nexport const AdminWindow = ({\n\tallUsers,\n\tshowAdmin,\n\tsetShowAdmin,\n\tsocket,\n}) => {\n\tconst windowWidthLess900 = useMediaQuery('(max-width:960px)');\n\tconst handleClose = () => setShowAdmin(false);\n\treturn (\n\t\t<div>\n\t\t\t<Modal\n\t\t\t\topen={showAdmin}\n\t\t\t\tonClose={handleClose}\n\t\t\t\taria-labelledby=\"modal-modal-title\"\n\t\t\t\taria-describedby=\"modal-modal-description\"\n\t\t\t>\n\t\t\t\t<Box sx={style} style={{ width: windowWidthLess900 ? 300 : 600 }}>\n\t\t\t\t\t<Typography style={{ fontSize: 34, textAlign: 'center' }}>\n\t\t\t\t\t\tAll users\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{allUsers && allUsers.length > 0 && allUsers.map((user) => {\n\t\t\t\t\t\tif (Array.isArray(user.role) && user.role.includes('admin')) {\n\t\t\t\t\t\t\t// return (\n\t\t\t\t\t\t\t// \t<AdminInfo\n\t\t\t\t\t\t\t// \t\titem={user}\n\t\t\t\t\t\t\t// \t\tkey={user.id}\n\t\t\t\t\t\t\t// \t\twindowWidthLess900={windowWidthLess900}\n\t\t\t\t\t\t\t// \t/>\n\t\t\t\t\t\t\t// );\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<UserInfoForAdmin\n\t\t\t\t\t\t\t\tuser={user}\n\t\t\t\t\t\t\t\tkey={user.id}\n\t\t\t\t\t\t\t\tsocket={socket}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</Box>\n\t\t\t</Modal>\n\t\t</div>\n\t);\n};\n","/Users/dmitriybabenko/Desktop/finalMes/client/src/components/Message.js",[],"/Users/dmitriybabenko/Desktop/finalMes/client/src/components/LeftNavOnlineUser.js",[],"/Users/dmitriybabenko/Desktop/finalMes/client/src/components/OnlineUser.js",[],"/Users/dmitriybabenko/Desktop/finalMes/client/src/components/AdminInfo.js",["143","144"],"import { Box, Button, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport React, { useState } from 'react';\n\nconst useStyles = makeStyles((theme) => ({\n\tcontainer: {\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'space-between',\n\t\talignItems: 'center',\n\t\tbackgroundColor: 'white',\n\t\tborderRadius: 10,\n\t\tmarginTop: 10,\n\t\tpadding: 10,\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tpadding: theme.spacing(0.5),\n\t},\n}));\n\nexport const AdminInfo = ({ item, windowWidthLess900 }) => {\n\tconst [mutted, setMutted] = useState(false);\n\tconst [banned, setBanned] = useState(false);\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Box className={classes.container}>\n\t\t\t<Typography>Admin: </Typography>\n\n\t\t\t<Typography>{item.username}</Typography>\n\t\t\t<Box style={{ display: 'flex', flexDirection: windowWidthLess900 ? 'column' : 'row' }}>\n\t\t\t\t<Button\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: banned ? 'red' : 'green',\n\t\t\t\t\t\tmarginRight: windowWidthLess900 ? 0 : 10,\n\t\t\t\t\t\tmarginTop: 3,\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tBan All\n\t\t\t\t</Button>\n\t\t\t\t<Button style={{\n\t\t\t\t\tbackgroundColor: mutted ? 'red' : 'green', marginRight: windowWidthLess900 ? 0 : 10, marginTop: 3, display: 'flex',\n\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tMute All\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: banned ? 'red' : 'green',\n\t\t\t\t\t\tmarginRight: windowWidthLess900 ? 0 : 10,\n\t\t\t\t\t\tmarginTop: 3,\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tUnban All\n\t\t\t\t</Button>\n\t\t\t\t<Button style={{ backgroundColor: mutted ? 'red' : 'green', marginTop: 3, display: 'flex' }}>\n\t\t\t\t\tUnmute All\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t</Box>\n\t);\n};\n","/Users/dmitriybabenko/Desktop/finalMes/client/src/components/UserInfoForAdmin.js",["145"],"import {\n\tAvatar, Box, Button, Typography,\n} from '@material-ui/core';\nimport { PermIdentityOutlined } from '@material-ui/icons';\nimport { makeStyles } from '@material-ui/core/styles';\nimport React, { useState } from 'react';\n\nconst useStyles = makeStyles((theme) => ({\n\tcontainer: {\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'space-between',\n\t\talignItems: 'center',\n\t\tbackgroundColor: 'white',\n\t\tborderRadius: 10,\n\t\tmarginTop: 10,\n\t\tpaddingLeft: 10,\n\t\tpaddingRight: 10,\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tpadding: theme.spacing(0.5),\n\t},\n}));\n\nexport const UserInfoForAdmin = ({\n\tuser,\n\tsocket,\n}) => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<Box className={classes.container}>\n\t\t\t<Avatar className={classes.avatar} style={{ backgroundColor: 'grey' }}>\n\t\t\t\t<PermIdentityOutlined />\n\t\t\t</Avatar>\n\t\t\t<Typography>{user.username}</Typography>\n\t\t\t<Box style={{ display: 'flex' }}>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tsocket.emit('ban', ({ ban: !user.banned, id: user.id }));\n\t\t\t\t\t}}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: user.banned ? 'red' : 'green',\n\t\t\t\t\t\tmarginRight: 10,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tBan\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tsocket.emit('mute', ({ mute: !user.mutted, id: user.id }));\n\t\t\t\t\t}}\n\t\t\t\t\tstyle={{ backgroundColor: user.mutted ? 'red' : 'green' }}\n\t\t\t\t>\n\t\t\t\t\tMute\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t</Box>\n\t);\n};\n","/Users/dmitriybabenko/Desktop/finalMes/client/src/components/NotificationMessage.js",[],{"ruleId":"146","severity":2,"message":"147","line":11,"column":8,"nodeType":"148","messageId":"149","endLine":11,"endColumn":15},{"ruleId":"150","severity":1,"message":"151","line":34,"column":3,"nodeType":"152","messageId":"153","endLine":34,"endColumn":14},{"ruleId":"150","severity":1,"message":"151","line":35,"column":3,"nodeType":"152","messageId":"153","endLine":35,"endColumn":14},{"ruleId":"154","severity":2,"message":"155","line":37,"column":20,"nodeType":"152","messageId":"156","endLine":37,"endColumn":28},{"ruleId":"150","severity":1,"message":"151","line":46,"column":3,"nodeType":"152","messageId":"153","endLine":46,"endColumn":14},{"ruleId":"150","severity":1,"message":"151","line":47,"column":3,"nodeType":"152","messageId":"153","endLine":47,"endColumn":14},{"ruleId":"154","severity":2,"message":"155","line":49,"column":20,"nodeType":"152","messageId":"156","endLine":49,"endColumn":28},{"ruleId":"150","severity":1,"message":"151","line":58,"column":3,"nodeType":"152","messageId":"153","endLine":58,"endColumn":14},{"ruleId":"146","severity":2,"message":"157","line":65,"column":35,"nodeType":"148","messageId":"149","endLine":65,"endColumn":43},{"ruleId":"158","severity":2,"message":"159","line":65,"column":45,"nodeType":"148","messageId":"160","endLine":65,"endColumn":53},{"ruleId":"150","severity":1,"message":"151","line":66,"column":3,"nodeType":"152","messageId":"153","endLine":66,"endColumn":14},{"ruleId":"150","severity":1,"message":"151","line":72,"column":3,"nodeType":"152","messageId":"153","endLine":72,"endColumn":14},{"ruleId":"150","severity":1,"message":"151","line":73,"column":3,"nodeType":"152","messageId":"153","endLine":73,"endColumn":14},{"ruleId":"146","severity":2,"message":"161","line":3,"column":8,"nodeType":"148","messageId":"149","endLine":3,"endColumn":13},{"ruleId":"162","severity":2,"message":"163","line":27,"column":4,"nodeType":"164","messageId":"165","endLine":27,"endColumn":13},{"ruleId":"146","severity":2,"message":"161","line":3,"column":8,"nodeType":"148","messageId":"149","endLine":3,"endColumn":13},{"ruleId":"162","severity":2,"message":"163","line":26,"column":4,"nodeType":"164","messageId":"165","endLine":26,"endColumn":13},{"ruleId":"162","severity":2,"message":"163","line":10,"column":21,"nodeType":"164","messageId":"165","endLine":10,"endColumn":31},{"ruleId":"166","severity":2,"message":"167","line":45,"column":31,"nodeType":"148","messageId":"168","endLine":45,"endColumn":36},{"ruleId":"166","severity":2,"message":"167","line":47,"column":45,"nodeType":"148","messageId":"168","endLine":47,"endColumn":50},{"ruleId":"166","severity":2,"message":"167","line":77,"column":72,"nodeType":"148","messageId":"168","endLine":77,"endColumn":77},{"ruleId":"166","severity":2,"message":"167","line":25,"column":12,"nodeType":"148","messageId":"168","endLine":25,"endColumn":17},{"ruleId":"146","severity":2,"message":"169","line":7,"column":10,"nodeType":"148","messageId":"149","endLine":7,"endColumn":19},{"ruleId":"146","severity":2,"message":"170","line":22,"column":17,"nodeType":"148","messageId":"149","endLine":22,"endColumn":26},{"ruleId":"146","severity":2,"message":"171","line":23,"column":17,"nodeType":"148","messageId":"149","endLine":23,"endColumn":26},{"ruleId":"146","severity":2,"message":"172","line":6,"column":17,"nodeType":"148","messageId":"149","endLine":6,"endColumn":25},"no-unused-vars","'history' is assigned a value but never used.","Identifier","unusedVar","no-console","Unexpected console statement.","MemberExpression","unexpected","no-underscore-dangle","Unexpected dangling '_' in '_id'.","unexpectedUnderscore","'username' is defined but never used.","no-shadow","'messages' is already declared in the upper scope on line 16 column 9.","noShadow","'axios' is defined but never used.","react/jsx-props-no-spreading","Prop spreading is forbidden","JSXSpreadAttribute","noSpreading","react/no-array-index-key","Do not use Array index in keys","noArrayIndex","'AdminInfo' is defined but never used.","'setMutted' is assigned a value but never used.","'setBanned' is assigned a value but never used.","'useState' is defined but never used."]